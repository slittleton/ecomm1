{"level":"error","message":"could not create the categorycould not create the category","stack":"Error: could not create the category\n    at exports.createCategory (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\category.js:4:9)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAdmin (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:61:3)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAuth (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:52:3)\n    at processTicksAndRejections (internal/process/task_queues.js:89:5)"}
{"level":"error","message":"could not create the categorycould not create the category","stack":"Error: could not create the category\n    at exports.createCategory (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\category.js:4:9)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAdmin (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:61:3)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAuth (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:52:3)\n    at processTicksAndRejections (internal/process/task_queues.js:89:5)"}
{"level":"error","message":"THERE WAS AN ERRORTHERE WAS AN ERROR","stack":"Error: THERE WAS AN ERROR\n    at Object.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\index.js:29:26)\n    at Module._compile (internal/modules/cjs/loader.js:774:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:785:10)\n    at Module.load (internal/modules/cjs/loader.js:641:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:556:12)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:837:10)\n    at internal/main/run_main_module.js:17:11"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"Connected to MongoDB...","level":"info"}
{"level":"error","message":"Product is not a constructorProduct is not a constructor","stack":"TypeError: Product is not a constructor\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:47:21\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"message":"Connected to MongoDB...","level":"info"}
{"level":"error","message":"Product is not a constructorProduct is not a constructor","stack":"TypeError: Product is not a constructor\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:47:21\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"message":"Connected to MongoDB...","level":"info"}
{"message":"asfdasdfasdf","level":"info"}
{"message":"asdfsadff","level":"info"}
{"message":"asdfsadff","level":"info"}
{"level":"error","message":"Product is not a constructorProduct is not a constructor","stack":"TypeError: Product is not a constructor\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:47:21\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"level":"error","message":"Cannot destructure property `error` of 'undefined' or 'null'.Cannot destructure property `error` of 'undefined' or 'null'.","stack":"TypeError: Cannot destructure property `error` of 'undefined' or 'null'.\n    at exports.createProduct (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:33:9)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAdmin (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:61:3)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at exports.checkAuth (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:52:3)"}
{"level":"error","message":"Cannot destructure property `error` of 'undefined' or 'null'.Cannot destructure property `error` of 'undefined' or 'null'.","stack":"TypeError: Cannot destructure property `error` of 'undefined' or 'null'.\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:49:11\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"level":"error","message":"validateProduct is not a functionvalidateProduct is not a function","stack":"TypeError: validateProduct is not a function\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:53:22\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"level":"error","message":"validateProduct is not a functionvalidateProduct is not a function","stack":"TypeError: validateProduct is not a function\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\product.js:53:22\n    at IncomingForm.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:107:9)\n    at IncomingForm.emit (events.js:200:13)\n    at IncomingForm._maybeEnd (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:557:8)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\incoming_form.js:238:12\n    at WriteStream.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\formidable\\lib\\file.js:79:5)\n    at Object.onceWrapper (events.js:288:20)\n    at WriteStream.emit (events.js:200:13)\n    at finishMaybe (_stream_writable.js:644:14)\n    at _stream_writable.js:622:5\n    at WriteStream._final (internal/fs/streams.js:280:3)\n    at callFinal (_stream_writable.js:615:10)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)"}
{"level":"error","message":"Joi.string(...).min(...).max(...).required(...).unique is not a functionJoi.string(...).min(...).max(...).required(...).unique is not a function","stack":"TypeError: Joi.string(...).min(...).max(...).required(...).unique is not a function\n    at validateUser (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\models\\user.js:43:50)\n    at exports.signUp (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:8:19)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\router\\index.js:317:13)"}
{"level":"error","message":"Cannot read property 'password' of nullCannot read property 'password' of null","stack":"TypeError: Cannot read property 'password' of null\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:38:63\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\mongoose\\lib\\model.js:4567:16\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\mongoose\\lib\\query.js:4314:12\n    at model.Query.Query._completeOne (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\mongoose\\lib\\query.js:2002:12)\n    at Immediate.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\mongoose\\lib\\query.js:2064:10)\n    at Immediate.<anonymous> (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\mquery\\lib\\utils.js:116:16)\n    at processImmediate (internal/timers.js:439:21)"}
{"level":"error","message":"Cannot set headers after they are sent to the clientCannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:455:11)\n    at ServerResponse.header (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\response.js:771:10)\n    at ServerResponse.send (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\node_modules\\express\\lib\\response.js:267:15)\n    at C:\\Users\\s-lit\\Desktop\\fullstack\\ecomm1\\controllers\\auth.js:49:16"}
